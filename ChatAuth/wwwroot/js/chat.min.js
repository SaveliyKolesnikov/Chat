var Message = function (a, c, b) { this.userName = a; this.text = c; this.when = b }, username = userName, textInput = document.getElementById("messageText"), whenInput = document.getElementById("when"), chat = document.getElementById("chat"), messagesQueue = []; document.getElementById("submitButton").addEventListener("click", function () { return whenInput.value = (new Date).format("m/dd/yyyy hh:MM TT") }); function clearInputField() { messagesQueue.push(textInput.value); textInput.value = "" }
function sendMessage() { var a = messagesQueue.shift() || ""; "" !== a.trim() && (a = new Message(username, a, new Date), sendMessageToHub(a)) }
function addMessageToChat(a) { var c = a.userName === username, b = document.createElement("div"); b.className = c ? "container darker" : "container"; var d = document.createElement("p"); d.className = "sender"; d.innerHTML = a.userName; var f = document.createElement("p"); f.innerHTML = a.text; var e = document.createElement("span"); e.className = c ? "time-left" : "time-right"; e.innerHTML = (new Date(a.when)).format("m/dd/yyyy hh:MM TT"); b.appendChild(d); b.appendChild(f); b.appendChild(e); chat.appendChild(b) };
